# SPDX-License-Identifier: (GPL-2.0 OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/media/i2c/sony,imx290.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Omnivision 1/7.5-Inch B&W VGA CMOS Digital Image Sensor

maintainers:

description: |-
The Omnivision OV7251 is a 1/7.5-Inch CMOS active pixel digital image sensor
with an active array size of 640H x 480V. It is programmable through a serial
I2C interface.

properties:
  compatible:
    enum:
      - ovti,ov7251

  reg:
    maxItems: 1

  clocks:
    maxItems: 1

  clock-names:
    description: Input clock (6-27 MHz)
    items:
      - const: xclk

  clock-frequency:
    description: Frequency of the xclk clock in Hz

  vdddo-supply:
    description: Chip digital IO regulator.

  vdda-supply:
    description: Chip analog regulator

  vddd-supply:
    description: Chip digital core regulator

  enable-gpios:
    description: Chip enable GPIO. Polarity is GPIO_ACTIVE_HIGH. This
                 corresponds to the hardware pin XSHUTDOWN which is physically
                 active low.
    maxItems: 1

  port:
    $ref: /schemas/graph.yaml#/$defs/port-base
    description: |
      Video output port

    properties:
      endpoint:
        $ref: /schemas/media/video-interfaces.yaml#
        unevaluatedProperties: false

        properties:
          data-lanes:
            anyOf:
              - items:
                  - const: 1

          link-frequencies: true

        required:
          - data-lanes
          - link-frequencies

    additionalProperties: false

required:
  - compatible
  - reg
  - clocks
  - clock-names
  - clock-frequency
  - enable-gpios
  - vdddo-supply
  - vdda-supply
  - vddd-supply
  - port

additionalProperties: false

examples:
  - |
    #include <dt-bindings/gpio/gpio.h>

    i2c {
        #address-cells = <1>;
        #size-cells = <0>;

        ov7251: camera-sensor@60 {
            compatible = "ovti,ov7251";
            reg = <0x60>;

            clocks = <&clk 90>;
            clock-names = "xclk";
            clock-frequency = <37125000>;

            vdddo-supply = <&camera_vdddo>;
            vdda-supply = <&camera_vdda>;
            vddd-supply = <&camera_vddd>;

            enable-gpios = <&gpio 35 GPIO_ACTIVE_LOW>;

            port {
                ov7251_ep: endpoint {
                    data-lanes = <1>;
                    link-frequencies = /bits/ 64 <240000000>;
                    remote-endpoint = <&csi_ep>;
                };
            };
        };
    };
...
